<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Timothy Scheuering</title>
    <link rel="stylesheet" href="css/index.css" type="text/css">
    <script src="js/index.js"></script>
  </head>
  <body>

    

    <!-- Profile Section -->
    <section id="profile">
      <header id="header-static">
        <div class="logo">
          <div class="logo-first">Timothy</div>
          <div class="logo-last">Scheuering</div>
        </div>
        <nav>
          <div onclick="openURL( 'profile', 'id' );">Profile</div>
          <div onclick="openURL( 'blog', 'id' );">Blog</div>
          <div onclick="openURL( 'projects', 'id' );">Projects</div>
        </nav>
      </header>

      <div id='profile-container'>
        <img id="profile-avatar" src='img/avatar.jpg' alt='avatar' />
        <h3 id="profile-blob">I'm an full-stack software developer, currently employed by Cisco Systems.</h3>
        <div id="profile-links">
          <img src='img/linkedin.svg' alt='linkedin' onclick="openURL( 'https://www.linkedin.com/in/timothy-scheuering', '_blank' );" />
          <img src='img/github.svg' alt='github' onclick="openURL( 'https://github.com/InteractiveTimmy', '_blank' );" />
        </div>
      </div>

    </section>

    <!-- Blog Section -->
    <section id="blog">
      <div class="collection">
        <h1>Blogs</h1>
      </div>
      <div id="blog-cards" class="collection">
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects">
      <div class="collection">
        <h1>Projects</h1>
      </div>
      <div id="project-cards" class="collection">
      </div>
    </section>
    <footer>
      Â© 2019
    </footer>

    <script>
      document.onreadystatechange = ( ) => {
        if ( document.readyState === 'complete' ) {

          let blogCards = document.getElementById( 'blog-cards' );
          let projectCards = document.getElementById( 'project-cards' );
          let header = document.getElementsByTagName( 'header' )[0];
          
          fetch( 'data.json' ).then( r => r.json( ) ).then( ( r ) => {

            r.blogs.forEach( ( item, i ) => {
              if ( item.visible )
              { blogCards.appendChild( createCard( 'blog', i, 'light', item ) ); }
            } );

            r.projects.forEach( ( item, i ) => {
              if ( item.visible )
              { projectCards.appendChild( createCard( 'project', i, 'dark', item ) ); }
            } );

            window.addEventListener( 'scroll', ( e ) => {
              if ( checkScroll( window.scrollY ) )
              { header.className = 'header-solid'; }
              else
              { header.className = null; }
            } );

            setTimeout( ( ) => {
              generateEllipsis( document.getElementsByClassName( 'card-body' ) );

              if ( checkScroll( window.scrollY ) )
              { header.className = 'header-solid'; }
              else
              { header.className = null; }
            }, 500 );
          } );
        }
      };
    </script>
  </body>
</html>